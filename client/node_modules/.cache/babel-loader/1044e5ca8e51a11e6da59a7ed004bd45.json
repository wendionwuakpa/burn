{"ast":null,"code":"var _jsxFileName = \"/Users/wendionwuakpa/Desktop/Career/codepath/burn-app/client/src/components/PostDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { supabase } from '../client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PostDetail = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [post, setPost] = useState(null);\n  const [comment, setComment] = useState(\"\");\n  useEffect(() => {\n    const fetchPost = async () => {\n      const {\n        data,\n        error\n      } = await supabase.from('Posts').select().eq('id', id).single();\n      if (error) console.log(\"Error fetching post\", error);else setPost(data);\n    };\n\n    fetchPost();\n  }, [id]);\n\n  const addComment = async () => {\n    if (comment) {\n      const updatedComments = [...(post.comments || []), comment];\n      const {\n        error\n      } = await supabase.from('Posts').update({\n        comments: updatedComments\n      }).eq('id', id);\n      if (error) console.log(\"Error adding comment\", error);else setPost(prev => ({ ...prev,\n        comments: updatedComments\n      }));\n      setComment(\"\");\n    }\n  };\n\n  if (!post) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: post.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: post.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Comments:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: post.comments && post.comments.map((c, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: c\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 59\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: comment,\n      onChange: e => setComment(e.target.value),\n      placeholder: \"Add a comment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addComment,\n      children: \"Submit Comment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PostDetail, \"bSN/9jrnMfGIjVZh00ZjAtB+JKo=\", false, function () {\n  return [useParams];\n});\n\n_c = PostDetail;\nexport default PostDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","supabase","PostDetail","id","post","setPost","comment","setComment","fetchPost","data","error","from","select","eq","single","console","log","addComment","updatedComments","comments","update","prev","title","description","map","c","index","e","target","value"],"sources":["/Users/wendionwuakpa/Desktop/Career/codepath/burn-app/client/src/components/PostDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { supabase } from '../client';\n\nconst PostDetail = () => {\n  const { id } = useParams();\n  const [post, setPost] = useState(null);\n  const [comment, setComment] = useState(\"\");\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      const { data, error } = await supabase\n        .from('Posts')\n        .select()\n        .eq('id', id)\n        .single();\n\n      if (error) console.log(\"Error fetching post\", error);\n      else setPost(data);\n    };\n\n    fetchPost();\n  }, [id]);\n\n  const addComment = async () => {\n    if (comment) {\n      const updatedComments = [...(post.comments || []), comment];\n      const { error } = await supabase\n        .from('Posts')\n        .update({ comments: updatedComments })\n        .eq('id', id);\n\n      if (error) console.log(\"Error adding comment\", error);\n      else setPost(prev => ({ ...prev, comments: updatedComments }));\n      setComment(\"\");\n    }\n  };\n\n  if (!post) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <h1>{post.title}</h1>\n      <p>{post.description}</p>\n      <h3>Comments:</h3>\n      <ul>\n        {post.comments && post.comments.map((c, index) => <li key={index}>{c}</li>)}\n      </ul>\n      <input\n        type=\"text\"\n        value={comment}\n        onChange={(e) => setComment(e.target.value)}\n        placeholder=\"Add a comment\"\n      />\n      <button onClick={addComment}>Submit Comment</button>\n    </div>\n  );\n};\n\nexport default PostDetail;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,QAAT,QAAyB,WAAzB;;;AAEA,MAAMC,UAAU,GAAG,MAAM;EAAA;;EACvB,MAAM;IAAEC;EAAF,IAASH,SAAS,EAAxB;EACA,MAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,EAAD,CAAtC;EAEAC,SAAS,CAAC,MAAM;IACd,MAAMS,SAAS,GAAG,YAAY;MAC5B,MAAM;QAAEC,IAAF;QAAQC;MAAR,IAAkB,MAAMT,QAAQ,CACnCU,IAD2B,CACtB,OADsB,EAE3BC,MAF2B,GAG3BC,EAH2B,CAGxB,IAHwB,EAGlBV,EAHkB,EAI3BW,MAJ2B,EAA9B;MAMA,IAAIJ,KAAJ,EAAWK,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCN,KAAnC,EAAX,KACKL,OAAO,CAACI,IAAD,CAAP;IACN,CATD;;IAWAD,SAAS;EACV,CAbQ,EAaN,CAACL,EAAD,CAbM,CAAT;;EAeA,MAAMc,UAAU,GAAG,YAAY;IAC7B,IAAIX,OAAJ,EAAa;MACX,MAAMY,eAAe,GAAG,CAAC,IAAId,IAAI,CAACe,QAAL,IAAiB,EAArB,CAAD,EAA2Bb,OAA3B,CAAxB;MACA,MAAM;QAAEI;MAAF,IAAY,MAAMT,QAAQ,CAC7BU,IADqB,CAChB,OADgB,EAErBS,MAFqB,CAEd;QAAED,QAAQ,EAAED;MAAZ,CAFc,EAGrBL,EAHqB,CAGlB,IAHkB,EAGZV,EAHY,CAAxB;MAKA,IAAIO,KAAJ,EAAWK,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCN,KAApC,EAAX,KACKL,OAAO,CAACgB,IAAI,KAAK,EAAE,GAAGA,IAAL;QAAWF,QAAQ,EAAED;MAArB,CAAL,CAAL,CAAP;MACLX,UAAU,CAAC,EAAD,CAAV;IACD;EACF,CAZD;;EAcA,IAAI,CAACH,IAAL,EAAW,oBAAO;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;EAEX,oBACE;IAAA,wBACE;MAAA,UAAKA,IAAI,CAACkB;IAAV;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAA,UAAIlB,IAAI,CAACmB;IAAT;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHF,eAIE;MAAA,UACGnB,IAAI,CAACe,QAAL,IAAiBf,IAAI,CAACe,QAAL,CAAcK,GAAd,CAAkB,CAACC,CAAD,EAAIC,KAAJ,kBAAc;QAAA,UAAiBD;MAAjB,GAASC,KAAT;QAAA;QAAA;QAAA;MAAA,QAAhC;IADpB;MAAA;MAAA;MAAA;IAAA,QAJF,eAOE;MACE,IAAI,EAAC,MADP;MAEE,KAAK,EAAEpB,OAFT;MAGE,QAAQ,EAAGqB,CAAD,IAAOpB,UAAU,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAH7B;MAIE,WAAW,EAAC;IAJd;MAAA;MAAA;MAAA;IAAA,QAPF,eAaE;MAAQ,OAAO,EAAEZ,UAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAbF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiBD,CArDD;;GAAMf,U;UACWF,S;;;KADXE,U;AAuDN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}